@model List<QPR_Application.Models.Entities.UserRequests>

@{
    ViewData["Title"] = "ViewRequestStatus";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
    int index = 0;
}

<div>
    <div class="row">
        <div class="col">
            <h1>View Request Status</h1>
        </div>
        <div class="col d-flex">
            <a class="btn btn-primary ms-auto align-content-center align-self-center" asp-action="RaiseRequest">Raise New Request</a>
        </div>
    </div>
</div>

<div class="table-responsive mt-3" style="margin-bottom:30em;">
    <table id="example1" class="table table-striped table-bordered pt-1">
        <thead class="table-primary">
            <tr class="text-center">
                <th class="text-center" width="5%">
                    S No.
                </th>
                <th class="text-center" width="8%">
                    Subject
                </th>
                <th class="text-center" width="15%">
                    Description
                </th>
                <th class="text-center" width="8%">
                    Qtr Year
                </th>
                <th class="text-center" width="8%">
                    Quarter Name
                </th>
                <th class="text-center" width="10%">
                    Action Taken By SO
                </th>
                <th class="text-center" width="8%">
                    Created
                </th>
                <th class="text-center" width="8%">
                    Updated
                </th>
                <th class="text-center">
                    Remarks
                </th>
                <th class="text-center" width="8%">Actions</th>
            </tr>
        </thead>
        <tbody>

            @foreach (var item in Model)
            {

                <tr>
                    <td class="text-center align-content-center">
                        @(++index)
                    </td>
                    <td class="text-center align-content-center">
                        @Html.DisplayFor(modelItem => item.subject)
                    </td>
                    <td class="text-center align-content-center">
                        @Html.DisplayFor(modelItem => item.description)
                    </td>
                    <td class="text-center align-content-center">
                        @Html.DisplayFor(modelItem => item.qtryear)
                    </td>
                    <td class="text-center align-content-center">
                        @Html.DisplayFor(modelItem => item.qtrQuarterName)
                    </td>
                    <td class="text-center align-content-center">
                        <span style="font-weight:700" class="@(item.ActionTaken == "Approved"?"text-success":"") @(item.ActionTaken == "Not Approved"? "text-danger" : "") @(string.IsNullOrEmpty(item.ActionTaken) ? "text-warning" : "")">
                            @(string.IsNullOrEmpty(item.ActionTaken) ? "Action Pending" : item.ActionTaken)
                        </span>
                    </td>
                    <td class="text-center align-content-center">
                        @Html.DisplayFor(modelItem => item.created_date)
                    </td>
                    <td class="text-center align-content-center">
                        @Html.DisplayFor(modelItem => item.updated_date)
                    </td>
                    <td class="text-center align-content-center">
                        @Html.DisplayFor(modelItem => item.Remarks)
                    </td>
                    <td class="text-center align-content-center">
                        @* <a class="btn btn-outline-primary" style="font-size:13px">View Details</a> *@
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
